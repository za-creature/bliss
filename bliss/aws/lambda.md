# bliss/aws/lambda
Simple decorator used to invoke a AWS
[lambda function](https://docs.aws.amazon.com/lambda/latest/dg/API_Invoke.html).

## usage
Before you can call a function, you must first bind it to a local function
using the default export of the 'bliss-router/aws/lambda' module, like so:
```javascript
import lambda from 'bliss-router/aws/lambda'

let add = lambda('arn:aws:lambda:us-west-2:123456789012:function:add_two_integers')
// for a list of possible values, see https://docs.aws.amazon.com/lambda/latest/dg/API_Invoke.html#API_Invoke_RequestSyntax
```

You may also optionally provide a context object as the second argument. It will
be base64 encoded and optionally json encoded (if not already binary or string).

### synchronous
Once registered, you can simply call the function to remotely trigger it on AWS:
```javascript
let {sum} = await add({
    first: 4,
    second: 3
)
// sum == 7
```

### asynchronous
If you don't want to wait for the result, you can also enqueue your function
for later invocation:
```javascript
await add.enqueue({
    first: 4,
    second: 3
})
```
In this case, you will only get an error if the function could not be triggered.
The expectation is that once executed, your function will store its result if
any in some third-party database and you will query it later (e.g. by sending
a unique `id` as an argument).

### errors
If something goes wrong, the raised error object will also contain the full HTTP
response as the `res` property as well as the last 4KB of logs generated by the
function as the `log` property (if available).
